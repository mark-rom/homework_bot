# Homework_bot
Homework_bot призван проверять статус домашней работы студента Яндекс.Практикума и реализован с помощью [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot).
____

### Принцип работы
Раз в 10 минут бот обращается к API сервиса [Практикум.Домашка](https://practicum.yandex.ru/api/user_api/homework_statuses/) и проверяет статус отправленной на ревью домашней работы. При обновлении статуса бот анализирует ответ API и отправляет пользователю уведомление в Telegram.
Также бот логирует свою работу и сообщает о важных проблемах пользователю в Telegram.

### Варианты ответов бота
| Статус API | Ответ бота |
|--------------|-----------------------------|
| reviewing | Изменился статус проверки работы "*homework_name*". Работа взята на проверку ревьюером. |
| approved | Изменился статус проверки работы "*homework_name*". Работа проверена: у ревьюера есть замечания. |
| rejected | Изменился статус проверки работы "*homework_name*". Работа проверена: ревьюеру всё понравилось. Ура! |
| Неизвестный статус | API have returned an unknown status *homework_status* for "*homework_name*" |

### Переменные окружения
Для работы бота необходимо предоставить следующие переменные окружения:
- TELEGRAM_TOKEN - токен телеграм-бота. Получается при создании бота [здесь](https://t.me/BotFather).
- PRACTICUM_TOKEN - токен Я.Практикума. Можно получить [здесь](https://oauth.yandex.ru/authorize?
response_type=token&client_id=1d0b9dd4d652455a9eb710d450ff456a).
- TELEGRAM_CHAT_ID - идентификатор чата с пользователем в Telegram. Можно получить [здесь](https://t.me/userinfobot).

### Логирование
Логирование производится в следующем формате: даты и времени события, уровня важности события описания события

***Пример логирования:***
*2021-10-09 15:34:45,150 &#91;ERROR&#93; Сбой в работе программы: Эндпоинт https://practicum.yandex.ru/api/user_api/homework_statuses/111 недоступен. Код ответа API: 404*

#### Уровни логирования информации
##### Уровень INFO
- удачная отправка любого сообщения в Telegram

##### Уровень ERROR
- сбой при отправке сообщения в Telegram
- недоступность [эндпоинта](https://practicum.yandex.ru/api/user_api/homework_statuses/)
- любые другие сбои при запросе к [эндпоинту](https://practicum.yandex.ru/api/user_api/homework_statuses/)
- отсутствие ожидаемых ключей в ответе API
- недокументированный статус домашней работы, обнаруженный в ответе API

##### Уровень DEBUG
- отсутствие в ответе новых статусов

##### Уровень CRITICAL
- отсутствие обязательных переменных окружения во время запуска бота